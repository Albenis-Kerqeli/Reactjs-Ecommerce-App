(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{11:function(e,t,c){e.exports={FlexCart:"FlexCart_FlexCart__OPUpg",CartInfo:"FlexCart_CartInfo__khHlA",CartInfoQt:"FlexCart_CartInfoQt__2OcDn",icon:"FlexCart_icon__3eDSI"}},14:function(e,t,c){e.exports={FlexColumn:"FlexColumn_FlexColumn__2k_Cd",FlexColumnInfo:"FlexColumn_FlexColumnInfo__1Swsw",FlexInfo:"FlexColumn_FlexInfo__2RHD9"}},15:function(e,t,c){e.exports={Cart:"Cart_Cart__2QgCO",CartRow:"Cart_CartRow__3dasZ",deleteIcon:"Cart_deleteIcon__1JfIq",CleanCartBtn:"Cart_CleanCartBtn__zUWEv",CheckoutCartBtn:"Cart_CheckoutCartBtn__29zpO"}},19:function(e,t,c){e.exports={Header:"Header_Header__2ybIs",logo:"Header_logo__2OlGM",info:"Header_info__3YhOZ",info__button:"Header_info__button__2LjRe"}},24:function(e,t,c){e.exports={FlexProduct:"FlexProduct_FlexProduct__3_ZMG",addToCartButton:"FlexProduct_addToCartButton__22QFk"}},28:function(e,t,c){},31:function(e,t,c){e.exports={Store:"Store_Store__2gHpC"}},32:function(e,t,c){e.exports={FlexRow:"FlexRow_FlexRow__3EWb3"}},36:function(e,t,c){e.exports={Checkout:"Checkout_Checkout__y3gVf"}},42:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(20),o=c.n(a),s=(c(42),c(12)),i=c(3),l=c(9),u=c(4),j=[{id:0,title:"Chocolate",image:"https://niceandnatural.co.nz/themes/niceandnatural/img/packshots/nut-bars-chocolate.png",price:5,count:1},{id:1,title:"Headphones",image:"https://lh3.googleusercontent.com/proxy/ZDGUk6w6bfbjkwKFCmABRDU86YkSWqQBybPRKPBFUxDbpLadXIF8fIx6-VvcczNar2Fls0wc3VjrLi0JMAJ4wjTiybr44FY3uDOIlZTruCSQ6VfcHFjZO3wpccf5kuFJf1N6vl8aBrkfXA",price:25,count:1},{id:2,title:"Macbook M1",image:"https://machousestore.com/media/catalog/product/cache/1/small_image/438.2x/040ec09b1e35df139433887a97daa66f/m/a/macbook-pro_1.png",price:680,count:1},{id:4,title:"Pizza",image:"https://www.pngkey.com/png/full/171-1714464_custom-logo-printed-wholesale-design-pizza-boxes.png",price:50,count:1}],d=c(2),b=Object(n.createContext)(),O=function(e){var t=Object(n.useState)(j),c=Object(u.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),i=s[0],O=s[1],x=Object(n.useState)([]),h=Object(u.a)(x,2),f=h[0],C=h[1],p=Object(n.useState)(0),m=Object(u.a)(p,2),_=m[0],g=m[1],v=i.filter((function(e,t){return i.map((function(e){return e.id})).indexOf(e.id)==t})),F=Object(l.a)(v).reduce((function(e,t){return e+t.price*t.count}),0);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("CartDB"));console.log(e),e?O(e):console.log("No products in DB")}),[]),Object(n.useEffect)((function(){localStorage.setItem("CartDB",JSON.stringify(v))}),[i]),Object(d.jsx)(b.Provider,{value:{productctx:[r,a],cartctx:[i,O],filtered:{filteredCart:v},total:{TotalCartPrice:F},values:[_,g],checkouts:[f,C]},children:e.children})},x=c(31),h=c.n(x),f=c(32),C=c.n(f),p=function(e){return Object(d.jsx)("div",{className:C.a.FlexRow,children:e.children})},m=c(24),_=c.n(m),g=c(33),v=function(e){return Object(d.jsxs)("div",{className:_.a.FlexProduct,children:[Object(d.jsx)("img",{src:e.image,alt:"Product"}),Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("h4",{children:e.price}),Object(d.jsxs)("button",{className:_.a.addToCartButton,onClick:e.addToCart,children:[Object(d.jsx)("h4",{children:"Add to Cart"})," ",Object(d.jsx)(g.a,{})," "]})]})},F=(c(28),c(10)),N=(c(29),function(){var e=Object(n.useContext)(b),t=e.productctx,c=e.cartctx,r=Object(u.a)(t,2),a=r[0],o=(r[1],Object(u.a)(c,2)),s=o[0],j=o[1];Object(i.f)();return Object(d.jsxs)("div",{className:h.a.Store,children:[Object(d.jsx)(p,{children:a.map((function(e){return Object(d.jsx)(v,{title:e.title,image:e.image,price:e.price,addToCart:function(t){t.preventDefault(),F.c.success("".concat(e.title," Product added to the Cart")),j([].concat(Object(l.a)(s),[{id:e.id,title:e.title,image:e.image,price:e.price,count:e.count,addCount:e.addCount}]))}},e.id)}))}),Object(d.jsx)(F.b,{position:"top-center",progressClassName:"toastProgress",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,transition:F.a,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}),k=c(14),I=c.n(k),P=function(e){return Object(d.jsxs)("div",{className:I.a.FlexColumn,children:[Object(d.jsxs)("div",{className:I.a.FlexColumnInfo,children:[Object(d.jsx)("div",{className:I.a.FlexInfo,children:Object(d.jsx)("h1",{children:"Product Image"})}),Object(d.jsx)("div",{className:I.a.FlexInfo,children:Object(d.jsx)("h1",{children:"Product Name"})}),Object(d.jsx)("div",{className:I.a.FlexInfo,children:Object(d.jsx)("h1",{children:"Product Qty"})}),Object(d.jsx)("div",{className:I.a.FlexInfo,children:Object(d.jsx)("h1",{children:"Product Price"})})]}),e.children]})},S=c(11),w=c.n(S),B=c(18),T=function(e){var t=r.a.useContext,c=(r.a.useState,e.count),n=t(b),a=n.cartctx,o=n.filtered,s=Object(u.a)(a,2);s[0],s[1],o.filteredCart;return Object(d.jsxs)("div",{className:w.a.FlexCart,children:[Object(d.jsx)("div",{className:w.a.CartInfo,children:Object(d.jsx)("img",{src:e.image})}),Object(d.jsxs)("div",{className:w.a.CartInfo,children:[Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("div",{children:e.children})]}),Object(d.jsxs)("div",{className:w.a.CartInfoQt,children:[Object(d.jsx)("button",{onClick:e.increment,className:w.a.icon,children:Object(d.jsx)(B.b,{})}),Object(d.jsx)("h1",{children:c}),Object(d.jsx)("button",{className:w.a.icon,onClick:e.decrement,children:Object(d.jsx)(B.a,{})})]}),Object(d.jsx)("div",{className:w.a.CartInfo,children:Object(d.jsx)("h1",{children:e.price})})]})},y=c(35),H=c(15),R=c.n(H),E=(c(49),function(){var e=r.a.useContext,t=r.a.useState,c=e(b),a=c.cartctx,o=c.filtered,s=c.total,j=c.values,O=c.checkouts,x=t(),h=Object(u.a)(x,2),f=(h[0],h[1]),C=Object(u.a)(j,2),p=C[0],m=C[1],_=Object(u.a)(O,2),g=(_[0],_[1]),v=Object(u.a)(a,2),N=v[0],k=v[1],I=o.filteredCart,S=s.TotalCartPrice,w=Object(i.f)();return Object(n.useEffect)((function(){var e=localStorage.getItem("TotalPrice");e&&f(e)})),Object(n.useEffect)((function(){localStorage.setItem("TotalPrice",S)}),[]),Object(d.jsxs)("div",{className:R.a.Cart,children:[Object(d.jsxs)(P,{children:[I.map((function(e){return Object(d.jsx)(T,{image:e.image,title:e.title,count:p,increment:function(t){m(e.count++)},decrement:function(t){m(e.count--)},price:e.price*e.count,children:Object(d.jsx)("button",{className:R.a.deleteIcon,onClick:function(t){!function(e){var t=Object(l.a)(I).filter((function(t){return t.id!==e}));k(t)}(e.id),F.c.success("".concat(e.title," Product removed from the cart")),1==N.length?alert("No more products in the Cart")||w.push("/"):console.log("Products")},children:Object(d.jsx)(y.a,{})})},e.id)})),Object(d.jsx)(F.b,{position:"top-center",progressClassName:"toastProgress",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,transition:F.a,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),Object(d.jsxs)("div",{className:R.a.CartRow,children:[Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:R.a.CleanCartBtn,onClick:function(e){k([]),w.push("/")},children:"Clear the Cart"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Total Price :",S,"\u20ac"]}),Object(d.jsx)("button",{className:R.a.CheckoutCartBtn,onClick:function(e){S&&(g([].concat(Object(l.a)(I),[{id:I.id,title:I.title,image:I.image,price:I.price,count:I.count}])),w.push("/checkout"))},children:"Checkout"})]})]})]})}),D=c(19),J=c.n(D),z=function(){var e=Object(n.useContext)(b).cartctx,t=Object(i.f)(),c=Object(u.a)(e,2),r=c[0];c[1];return Object(d.jsxs)("header",{className:J.a.Header,children:[Object(d.jsx)("div",{className:J.a.logo,children:"JoyStore"}),Object(d.jsx)("div",{className:J.a.info,children:Object(d.jsxs)("button",{className:J.a.info__button,onClick:function(e){""==r?alert("Add a Product"):t.push("/cart")},children:[Object(d.jsx)("h4",{children:"Shopping Cart"}),Object(d.jsx)(B.c,{})]})})]})},A=c(36),Q=c.n(A),U=c(27),L=c.n(U),Z=c(37);function M(){var e=Object(n.useRef)(),t=Object(n.useContext)(b).total.TotalCartPrice;return Object(n.useEffect)((function(){window.paypal.Buttons({createOrder:function(e,c,n){return c.order.create({intent:"CAPTURE",purchase_units:[{description:"OpenStore Cool",amount:{currency_code:"EUR",value:t}}]})},onApprove:function(){var e=Object(Z.a)(L.a.mark((function e(t,c){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.order.capture();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),onError:function(e){console.log(e)}}).render(e.current)}),[]),Object(d.jsx)("div",{children:Object(d.jsx)("div",{ref:e})})}var V=function(){var e=Object(n.useContext)(b),t=e.checkouts,c=e.total,r=Object(u.a)(t,2),a=r[0],o=(r[1],Object(i.f)(),c.TotalCartPrice),s=Object(n.useState)([]),l=Object(u.a)(s,2),j=(l[0],l[1]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("Transaction"));console.log(e),e?j(e):console.log("No products in DB")}),[]),Object(n.useEffect)((function(){localStorage.setItem("Transaction",JSON.stringify(a))}),[a]),Object(d.jsxs)("div",{className:Q.a.Checkout,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"List of Products"}),a.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("h4",{children:e.price})]})}))]}),""==a?"":Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:o}),Object(d.jsx)(M,{})]})]})};function G(){return Object(d.jsx)(O,{children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(z,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/",exact:!0,component:N}),Object(d.jsx)(i.a,{path:"/cart",component:E}),Object(d.jsx)(i.a,{path:"/checkout",component:V})]})]})})}o.a.render(Object(d.jsx)(G,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.b5b68f8d.chunk.js.map