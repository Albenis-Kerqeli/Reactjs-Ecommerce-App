(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[4],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(23),c=n(8),r=n(1),i=[{id:0,title:"Chocolate",image:n.p+"static/media/chocolate.8753b039.webp",price:5,count:1,addQty:function(){return++this.count}},{id:1,title:"Headphones",image:n.p+"static/media/headphones.54fc6de1.webp",price:25,count:1,addQty:function(){return++this.count}},{id:2,title:"Macbook M1",image:n.p+"static/media/macbook.2339d559.webp",price:680,count:1,addQty:function(){this.count=this.count++}},{id:4,title:"Pizza",image:n.p+"static/media/pizza.6bb8a487.webp",price:10,count:1,addQty:function(){return++this.count}}],a=n(2),s=Object(r.createContext)();t.b=function(e){var t=Object(r.useState)(i),n=Object(c.a)(t,2),l=n[0],u=n[1],d=Object(r.useState)([]),f=Object(c.a)(d,2),b=f[0],j=f[1],p=Object(r.useState)([]),h=Object(c.a)(p,2),g=h[0],O=h[1],m=Object(r.useState)(1),v=Object(c.a)(m,2),x=v[0],w=v[1],k=b.filter((function(e,t){return b.map((function(e){return e.id})).indexOf(e.id)==t})),S=g.filter((function(e){return void 0!==e.id})),C=Object(o.a)(k).reduce((function(e,t){return e+t.price*t.count}),0);Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("CartDB"));e&&j(e)}),[]),Object(r.useEffect)((function(){localStorage.setItem("CartDB",JSON.stringify(k))}),[b]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("order"));e?O(e):console.log("No products in DB")}),[]),Object(r.useEffect)((function(){localStorage.setItem("order",JSON.stringify(S))}),[g]);var y=Object(r.useMemo)((function(){return{productctx:[l,u],cartctx:[b,j],filtered:{filteredCart:k},total:{TotalCartPrice:C},values:[x,w],checkoutsort:{filteredcheck:S},order:[g,O]}}),[C,S,k,g,l,x]);return Object(a.jsx)(s.Provider,{value:y,children:e.children})}},16:function(e,t,n){e.exports={Header:"Header_Header__X6ISR",logo:"Header_logo__3MJdJ",info:"Header_info__1Sglv"}},22:function(e,t,n){"use strict";var o=n(1),c=n(2),r=Object(o.memo)((function(e){var t=e.children,n=e.bgColor,o=e.textColor,r=e.padding,i=e.onClick,a={backgroundColor:n,color:o,padding:r,borderRadius:e.radius,fontSize:e.fontSize,margin:e.margin,display:e.display,flexDirection:e.direction,alignItems:"center",justifyContent:"center"};return Object(c.jsx)("button",{style:a,onClick:i,children:t})}));t.a=r},31:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n(14),r=n.n(c),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(31);var s=n(12),l=n(8),u=n(16),d=n.n(u),f=n(3),b=n(13),j=n(25),p=n(22),h=n(2),g=Object(o.memo)((function(){var e=Object(o.useContext)(s.a).cartctx,t=Object(f.f)(),n=Object(l.a)(e,1)[0];return Object(h.jsxs)("header",{className:d.a.Header,children:[Object(h.jsx)("div",{className:d.a.logo,children:Object(h.jsx)(b.b,{to:"/",children:"JoyStore"})}),Object(h.jsx)("div",{className:d.a.info,children:Object(h.jsxs)(p.a,{display:"flex",bgColor:"var(--lightorange)",textColor:"white",margin:"5px",radius:"10px",padding:"15px 30px",fontSize:"15px",direction:"row",onClick:function(e){e.preventDefault(),""==n?alert("Add a Product to the Cart"):t.push("/cart")},children:[Object(h.jsx)("h4",{children:"Shopping Cart"}),Object(h.jsx)(j.c,{})]})})]})})),O=n(19),m=(n(38),n(39),Object(o.memo)((function(){return Object(h.jsx)(O.b,{position:"top-center",progressClassName:"toastProgress",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,transition:O.a,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}))),v=Object(o.lazy)((function(){return Promise.all([n.e(10),n.e(3)]).then(n.bind(null,59))})),x=Object(o.lazy)((function(){return Promise.all([n.e(9),n.e(0)]).then(n.bind(null,60))})),w=Object(o.lazy)((function(){return n.e(2).then(n.bind(null,57))})),k=Object(o.lazy)((function(){return n.e(1).then(n.bind(null,58))}));function S(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(b.a,{children:[Object(h.jsxs)(s.b,{children:[Object(h.jsx)(g,{}),Object(h.jsx)(o.Suspense,{fallback:Object(h.jsx)("h1",{children:"Loading..."}),children:Object(h.jsxs)(f.c,{children:[Object(h.jsx)(f.a,{path:"/",exact:!0,component:v}),Object(h.jsx)(f.a,{path:"/cart",component:x}),Object(h.jsx)(f.a,{path:"/checkout",component:k}),Object(h.jsx)(f.a,{path:"/final",component:w})]})})]}),Object(h.jsx)(m,{})]})})}r.a.render(Object(h.jsx)(S,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):a(t,e)}))}}()}},[[40,5,6]]]);
//# sourceMappingURL=main.ea3b5de6.chunk.js.map